# Lab3-Lakehouse
## ะะฐะฝะฝัะต 

ะะทัั ัะปะตะดัััะธะน ะดะฐัะฐัะตั: [NYC Yellow Taxi Trip Data](https://www.kaggle.com/datasets/elemento/nyc-yellow-taxi-trip-data).   ะะฐะฑะพั ะดะฐะฝะฝัั ะพะฑัะตะทะฐะฝ ะดะพ 100000 ััะผะฟะปะพะฒ.  

**ะฆะตะปั** โ ะฟัะตะดัะบะฐะทะฐัั ะดะฝะตะฒะฝัั ะฒััััะบั ัะฐะบัะธ(*daily_revenue*) ะทะฐ ะดะตะฝั ะฝะฐ ะพัะฝะพะฒะต ะฟะพะณะพะดะฝัั, ะฒัะตะผะตะฝะฝัั ะธ ะฟะพะฒะตะดะตะฝัะตัะบะธั ะฟัะธะทะฝะฐะบะพะฒ.

## ะะพะดะตะปั
ะัะฟะพะปัะทะพะฒะฐะปัั `sklearn.ensemble.RandomForestRegressor` ัะปััะฐะนะฝัะน ะปะตั ะดะปั ะบะปะฐััะธัะธะบะฐัะธะธ. ะะพะด ะพะฑััะตะฝะธั ะฟัะธะฒะตะดะตะฝ ะฒ `utils.py`.

## ะกัััะบัััะฐ 
```										
โโโ ๐ data
โ	โโโ ๐ nyc_taxi_100k.csv
โโโ ๐ src	
โ	โโโ ๐ download.py
โ	โโโ ๐ etl_pipeline.py
โ	โโโ ๐ logging_config.py
โ	โโโ	๐ main.py				
โ   โโโ ๐ utils.py	
โโโ ๐ณ Dockerfile				
โโโ	๐ docker-compose.yml	
โโโ โ๏ธ start.sh											
โโโ ๐ README.md				
```

## ะะฐะฟััะบ
ะะฐะฟัััะธัั ะฟัะพะตะบั ะผะพะถะฝะพ ั ะฟะพะผะพััั ะพะดะฝะพะน ะบะพะผะฐะฝะดั:
```
docker-compose up -d
```
ะะฟัะธะพะฝะฐะปัะฝะพ ะผะพะถะฝะพ ะพัะดะตะปัะฝะพ ะทะฐะฟัััะธัั ัะบัะธะฟั ```download_dataset.py```, ะบะพัะพััะน "ะพะฑัะตะทะฐะตั" ะดะฐัะฐัะตั ะดะพ 100000 ะทะฐะฟะธัะตะน. ะะฐะฟััะบ `main.py` ะฒัะฟะพะปะฝัะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐ ััะตั bash-ัะบัะธะฟัะฐ `start.sh`.  
ะะฐะปะตะต ะฒัะฟะพะปะฝัะตััั ัะปะตะดัััะธะน ะฟะฐะนะฟะปะฐะนะฝ:  
[CSV Data] โ [Bronze (Raw Data)] โ [Silver (Cleaned Data)] โ [Gold (Aggregated Data)] โ [ML Model Predcition]  

ะัะฟะพะปะฝะตะฝะธะต ะบะฐะถะดะพะณะพ ััะฐะฟะฐ ะปะพะณะธััะตััั ะฒ `logs/app.log` ะฒ ะบะพะฝัะตะนะฝะตัะต ะธะปะธ ะฒ `./logs` ะฒ ะฟัะพะตะบัะต (ะฟะพัะฒะปัะตััั ะฟัะธ ะทะฐะฟััะบะต ะบะพะฝัะตะนะฝะตัะฐ).



## ะะตะทัะปััะฐัั
ะะตะทัะปััะฐั ะทะฐะฟััะบะฐ ะฟัะตะดััะฐะฒะปะตะฝ ะฒ ะปะพะณะฐั `logs/app.log` :
ะะพะผะธะผะพ ััะพะณะพ ะฟะพ ะฐะดัะตัั ``http://localhost:5000/`` ะผะพะถะฝะพ ะฟะพัะผะพััะตัั ะฝะฐ ะทะฐะฟััะบะธ, ะผะพะดะตะปะธ ะธ ะผะตััะธะบะธ.
